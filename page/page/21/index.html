
<!DOCTYPE HTML>
<html>
<head>
    <meta charset="utf-8">
    <title>Matt Aimonetti</title>
    <meta name="author" content="Matt Aimonetti">

    
    <meta name="description" content="News From the Front Line - Sept 24 2008 Dear Merbivores/Merbists/Merbians, It&#8217;s hard to believe that in less that 20 days, Merb 1.0 will be &hellip;">
    
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1" />

    <link href="/Matt-Aimonetti/atom.xml" rel="alternate" title="Matt Aimonetti" type="application/atom+xml">
    <link rel="canonical" href="http://mattetti.github.com/Matt-Aimonetti">
    <link href="/Matt-Aimonetti/favicon.png" rel="shortcut icon">
    <link href="/Matt-Aimonetti/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
    <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    
    
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-30927742-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>


<body>
	<header><div id='meta' class='inner'>
  <div id="matt-aimonetti" itemscope itemtype="http://data-vocabulary.org/Person">
    <img class="photo left" src="/Matt-Aimonetti/images/matt_aimonetti.jpg" />
    <h1 class="left"><a itemprop="name" href="/Matt-Aimonetti/">Matt Aimonetti</a></h1>
    <br>
    <ul class='left'>
      <li><a href='http://www.linkedin.com/in/mattaimonetti'>Software Architecture</a> at <span itemprop="affiliation">LivingSocial</span></li>
      <li><a href='http://www.oreillynet.com/pub/au/4385'>Author</a> at <span itemprop="affiliation">O'Reilly</span></li>
      <li>Open-source <a href="/articles/archives">evangelist</a></li>
      <li><a href="https://github.com/mattetti">Web engineer</a></li>
    </ul>
  <nav class="menu left"><ul class="main">
	<li><a href="/Matt-Aimonetti/">Articles</a></li>
	<li><a href="/Matt-Aimonetti/posts/archives">Archives</a></li>
</ul>
</nav>
  <div class="right">
    <form class="search right" action="http://google.com/search" method="get">
      <input class="left" type="text" name="q" results="0">
      <input type="hidden" name="q" value="site:mattetti.github.com/Matt-Aimonetti">
    </form>
    <div class="social right">
      
      
      <a class="google" rel='me' href="https://plus.google.com/101114877505962271216?rel=author" title="Google+">Google+</a>
      
      
      <a class="twitter" rel='me' href="http://twitter.com/merbist" title="Twitter">Twitter</a>
      
      
      <a class="github" rel='me' href="https://github.com/mattetti" title="GitHub">GitHub</a>
      
      
      
      <a class="linkedin" rel='me' href="http://www.linkedin.com/in/mattaimonetti" title="Linkedin">Linkedin</a>
      
      
      <a class="rss" rel='me' href="/Matt-Aimonetti/atom.xml" title="RSS">RSS</a>
      
    </div>
  </div>
</div>

</header>
	
<!--
<div id="banner" class="inner">
	<div class="container">
		<ul class="feed"></ul>
	</div>
	<small><a href="http://twitter.com/merbist">merbist</a> @ <a href="http://twitter.com">Twitter</a></small>
	<div class="loading">Loading...</div>
</div>
<script src="/Matt-Aimonetti/javascripts/twitter.js"></script>
<script type="text/javascript">
	(function($){
		$('#banner').getTwitterFeed('merbist', 0, false);
	})(jQuery);
</script>
-->


	<div id="content" class="inner">


    <article class="post">
    <h1 class="title entry-title"><a href="/Matt-Aimonetti/posts/2008/09/24/news-from-the-front-line-sept-24-2008/">News From the Front Line - Sept 24 2008</a></h1>
    <div class="entry">
        <p>Dear Merbivores/Merbists/Merbians,</p>

<p>It&#8217;s hard to believe that in <a href="http://merbcamp.com">less that 20 days</a>, Merb 1.0 will be released! We are all really happy to to be almost there but we have to be honest and admit that we are also under pressure.</p>

<p>We are all dreaming of a post 1.0 world but in the meantime we have to focus on last minutes bugs and optimization.</p>

<p><a href="http://flickr.com/photos/16596714@N00/355242291/"><img src="http://farm1.static.flickr.com/128/355242291_40cf729cd9_m.jpg" alt="" /></a></p>

<p>During the last week or so, we made a lot of progress, the API is now &#8220;almost&#8221; frozen and <a href="http://yehudakatz.com/">General Katz</a> is focusing on making sure everything will be fine for D Day.</p>

<p>That reminds me that Katz showed me something amazing yesterday! I shouldn&#8217;t really talk about it but I&#8217;m sure it will stay between us. He was been working on optimizing the general memory consumption and my testing app (real app) went from 120MB of Private Memory used, to 70MB (using 4 processes). I can&#8217;t wait to use that on the field. I also hope my old Rails comrades will realize that running ~100Mb processes (x4) really isn&#8217;t efficient and event dangerous for the free Ruby world!</p>

<p>I also heard rumors that the higher officers are now using a new strategic tool called <a href="http://www.pivotaltracker.com">http://www.pivotaltracker.com</a> which should help us streamline the process. We are still using <a href="http://merb.lighthouseapp.com">LightHouse</a> to track bugs and patches though. I&#8217;m not sure if this new &#8220;agile&#8221; tool will help, but I thought the approach is pretty interesting. What do you think?</p>

<p><a href="http://flickr.com/photos/celtico/2556999427/"><img src="http://farm4.static.flickr.com/3138/2556999427_546c5004f6_m.jpg" alt="" /></a></p>

<p>You probably also saw my early report on <a href="http://merbist.com/2008/09/23/deploying-a-bundled-merb-app-merb-097/">bundling Merb apps</a>, I&#8217;m quite happy about the process. Do you think you will deploy bundled/frozen apps or just use the system-wide gems?</p>

<p><a href="http://farm4.static.flickr.com/3097/2884670329_15385e8516.jpg">
</a></p>

<p>Finally I hear a lot of talk about the <a href="http://github.com/carllerche/merb-core-enterprise-edition/wikis/whats-new-with-the-router">new Route</a>r that&#8217;s available on <a href="http://github.com/wycats/merb-core/tree/master">Edge/HEAD</a>. Officer Lerch wrote a <a href="http://github.com/carllerche/merb-core-enterprise-edition/wikis/whats-new-with-the-router">nice wiki article</a> covering the changes, you might want to <a href="http://github.com/carllerche/merb-core-enterprise-edition/wikis/whats-new-with-the-router">read it</a>.</p>

<p>Ohh before I forget, some courageous privates went to <a href="http://github.com/wycats/merb-core/tree/master">HEAD</a> and use the 3rd party plugin called <a href="http://github.com/hassox/merb-auth/tree/master">merb-auth</a>. What they don&#8217;t know is that they need to change their routes to use the slices with the new router. (the new router requires no block variable) Also, if they look at the merb-auth branches they will notice a new <a href="http://github.com/hassox/merb-auth/tree/mauth">mauth branch</a> which is the new version of merb-auth, even better, more flexible than the previous version.</p>

<p>I hope everything is well for you, say Hi! to our friends for me.</p>

<ul>
<li>Merbist</li>
</ul>


        
        
    </div>
    <div class="meta">
        <div class="date updated">








  


<time datetime="2008-09-24T08:47:24+02:00" pubdate data-updated="true">Sep 24<span>th</span>, 2008</time></div>
        <div class="tags">

<div class="cat">
  
    <a class='category' href='/Matt-Aimonetti/articles/categories/news/'>News</a>
  
</div>

</div>
        
    </div>

</article>


    <article class="post">
    <h1 class="title entry-title"><a href="/Matt-Aimonetti/posts/2008/09/23/deploying-a-bundled-merb-app-merb-097/">Deploying a Bundled Merb App (Merb 0.9.7+)</a></h1>
    <div class="entry">
        <p>Since Merb 0.9.7 the Merb team decided to change the way you can bundle an app. Until 0.9.7 you would use the merb-freezer plugin which was supporting git submodules and gems. The only problem was that you still had to install merb-freezer on your server and it had to stay in sync with your app&#8230; kinda lame :(</p>

<p>[caption id=&#8221;&#8221; align=&#8221;alignleft&#8221; width=&#8221;240&#8221; caption=&#8221;Ginger roots, great for deployment issues&#8221;]<a href="http://flickr.com/photos/vieuxbandit/1987820964/"><img src="http://farm3.static.flickr.com/2373/1987820964_bc54df0d81_m.jpg" alt="Ginger" /></a>[/caption]</p>

<p>Instead, after a lot of discussions, we decided to add this feature to merb-core and let you bundle all your dependencies in a bundled gem folder. No more support for git submodules as they are hard to keep track of and don&#8217;t handle dependencies very well (not at all).</p>

<p>The new freezing strategy is very well described in <a href="http://merbunity.com/tutorials/18">this merbunity article</a>. However it doesn&#8217;t really explain how to deploy a bundled app.</p>

<p>So let&#8217;s imagine for a second that we bundle our app, generated the scripts needed to start merb/rake etc&#8230;</p>

<p>The key thing to do is to have a decent deployment recipe. Let&#8217;s look at my cap recipe:</p>

<p>As you can see there are few key elements:</p>

<ul>
<li><p>recompile native gems for the web server</p></li>
<li><p>call bin/merb and not merb directly</p></li>
</ul>


<p>One thing you need to be aware of is that your bundled gems need to be up to date and play well alone. When you test your bundled app locally, you might endup loading system wide gems available which you don&#8217;t have on your deployment server.</p>

<p>If when you deploy your app everything seems fine but you can&#8217;t access your app, check that you are recompiling native gems during your deployment and make sure you have bundled all the deps you need and that they work well alone.</p>

<p>One more advise, if you can&#8217;t figure out what&#8217;s going, try ssh&#8217;ing to your server, go to your current folder and try bin/merb -iÂ  to see what&#8217;s going on.</p>

        
        
    </div>
    <div class="meta">
        <div class="date updated">








  


<time datetime="2008-09-23T15:32:41+02:00" pubdate data-updated="true">Sep 23<span>rd</span>, 2008</time></div>
        <div class="tags">

<div class="cat">
  
    <a class='category' href='/Matt-Aimonetti/articles/categories/tutorial/'>Tutorial</a>
  
</div>

</div>
        
    </div>

</article>

<nav id="pagenavi">
    
        <a href="/Matt-Aimonetti/page/page/20/" class="prev">Prev</a>
    
    
    <a href="/Matt-Aimonetti/articles/archives" class="center">Archives</a>
</nav>
</div>
	<footer class="inner"><div id='copyright-notice'>Copyright &copy; 2012 Matt Aimonetti</div>
</footer>
	<script src="/Matt-Aimonetti/javascripts/jquery.fancybox.pack.js"></script>
<script src="/Matt-Aimonetti/javascripts/slash.js"></script>




</body>
</html>
